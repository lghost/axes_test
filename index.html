<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
  <head>
    <meta charset="utf-8">
    <title>График должностной структуры организации</title>
    <script type="text/javascript" src="js/jquery-2.1.4.min.js"></script>
    <!-- <script type="text/javascript" src="js/bootstrap-3.3.5.min.js"></script> -->
    <script type="text/javascript" src="js/knockout-3.3.0.js"></script>
    <!-- <script type="text/javascript" src="js/knockstrap-1.3.0.min.js"></script> -->
    <!-- <link rel="stylesheet" href="/css/bootstrap-3.3.5.min.css"> -->
    <!-- <link rel="stylesheet" href="/css/bootstrap-theme-3.3.5.min.css"> -->
    <link rel="stylesheet" href="css/style.css">
  </head>

  <body>
    <div data-bind="template: { name: 'postTemplate', data: posts.genDir }"></div>

    <script type='text/html' id="postTemplate">
      <table align="center">
        <tr>
          <td align="center" data-bind="attr: {colspan: underPosts().length || 1 },
                                        click: function() { collapsed(!collapsed()); }">
            <table>
              <tr>
                <td colspan="2">
                  <div class="post" data-bind="text: name"></div>
                </td>
              </tr>
              <!-- ko ifnot: collapsed -->
                <!-- ko foreach: helpers -->
                <tr>
                  <td align="right">
                    <div class="post helper" data-bind="text: name"></div>
                  </td>
                  <td align="left">
                    <div class="post helper" data-bind="text: name"></div>
                  </td>
                </tr>
                <!-- /ko -->
              <!-- /ko -->
            </table>
          </td>
        </tr>

        <!-- ko ifnot: collapsed -->
          <!-- ko if: helpers -->
          <tr data-bind="foreach: underPosts">
            <td data-bind="template: { name: 'postTemplate', data: $data }"></td>
          </tr>
          <!-- /ko -->
        <!-- /ko -->
      </table>
    </script>

    <script type="text/javascript" src="js/struct.js"></script>
    <script type="text/javascript" src="js/viewModel.js"></script>
  </body>
</html>
